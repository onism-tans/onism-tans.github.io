# 📂 项目结构说明

## 🏗️ 整体结构

```
blog/
├── .github/                    # GitHub 配置
│   └── workflows/
│       └── deploy.yml          # 自动部署配置
├── docs/                       # 文档目录
│   ├── 图床配置指南.md
│   └── 部署指南.md
├── node_modules/               # 依赖包（自动生成）
├── public/                     # 生成的静态文件（自动生成）
├── scaffolds/                  # 文章模板
│   ├── draft.md               # 草稿模板
│   ├── page.md                # 页面模板
│   └── post.md                # 文章模板
├── source/                     # 源文件目录
│   ├── _posts/                # 博客文章
│   │   ├── hello-world.md
│   │   └── 我的第一篇博客文章.md
│   ├── about/                 # 关于页面
│   │   └── index.md
│   ├── categories/            # 分类页面
│   │   └── index.md
│   ├── notes/                 # 学习笔记页面
│   │   └── index.md
│   ├── projects/              # 项目经历页面
│   │   └── index.md
│   └── tags/                  # 标签页面
│       └── index.md
├── themes/                     # 主题目录
│   └── butterfly/             # Butterfly 主题
├── _config.yml                # Hexo 主配置文件
├── _config.butterfly.yml      # Butterfly 主题配置文件
├── package.json               # 项目依赖配置
├── README.md                  # 项目说明文档
└── 项目结构说明.md            # 本文件
```

## 📋 核心文件说明

### 配置文件

#### `_config.yml` - Hexo 主配置
```yaml
# 站点信息
title: 我的博客
subtitle: 分享技术与生活
description: 一个专注于技术分享和个人成长的博客
author: 您的名字
language: zh-CN

# URL 配置
url: https://yourusername.github.io

# 主题设置
theme: butterfly

# 插件配置
search:
  path: search.xml
feed:
  enable: true
  type: atom
sitemap:
  path: sitemap.xml
```

#### `_config.butterfly.yml` - 主题配置
```yaml
# 导航菜单
menu:
  首页: / || fas fa-home
  关于我: /about/ || fas fa-user
  项目经历: /projects/ || fas fa-code

# 社交链接
social:
  fab fa-github: https://github.com/yourusername || Github

# 搜索功能
search:
  use: local_search

# 评论系统
comments:
  use: Waline
```

#### `package.json` - 依赖管理
```json
{
  "name": "hexo-site",
  "version": "0.0.0",
  "dependencies": {
    "hexo": "^5.4.2",
    "hexo-generator-searchdb": "^1.4.1",
    "hexo-generator-sitemap": "^3.0.1",
    "hexo-generator-feed": "^3.0.0",
    "hexo-deployer-git": "^3.0.0"
  }
}
```

### 部署配置

#### `.github/workflows/deploy.yml` - 自动部署
```yaml
name: Deploy to GitHub Pages
on:
  push:
    branches: [main]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v3
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
    - name: Install & Build
      run: |
        npm install
        npx hexo generate
    - name: Deploy
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./public
```

## 📝 内容管理

### 文章目录 (`source/_posts/`)

所有博客文章都存放在此目录，使用 Markdown 格式：

```markdown
---
title: 文章标题
date: 2025-09-20 15:44:43
categories: [分类名]
tags: [标签1, 标签2]
description: 文章描述
cover: 封面图片URL
---

文章内容...
```

### 页面目录 (`source/`)

- `about/` - 关于我页面
- `projects/` - 项目经历页面  
- `notes/` - 学习笔记页面
- `categories/` - 分类页面
- `tags/` - 标签页面

### 模板目录 (`scaffolds/`)

包含创建新内容时使用的模板：

- `post.md` - 新文章模板
- `page.md` - 新页面模板
- `draft.md` - 草稿模板

## 🎨 主题结构

### Butterfly 主题目录 (`themes/butterfly/`)

```
butterfly/
├── layout/                     # 模板文件
│   ├── includes/              # 组件模板
│   ├── index.pug              # 首页模板
│   ├── post.pug               # 文章页模板
│   └── page.pug               # 页面模板
├── source/                    # 静态资源
│   ├── css/                   # 样式文件
│   ├── js/                    # JavaScript 文件
│   └── img/                   # 图片资源
├── scripts/                   # 脚本文件
├── languages/                 # 语言文件
└── _config.yml               # 主题默认配置
```

## 🔧 开发工作流

### 1. 本地开发

```bash
# 安装依赖
npm install

# 创建新文章
hexo new "文章标题"

# 创建新页面
hexo new page "页面名称"

# 清理缓存
hexo clean

# 生成静态文件
hexo generate

# 启动本地服务器
hexo server
```

### 2. 部署流程

#### 自动部署（推荐）
```bash
# 提交代码
git add .
git commit -m "更新内容"
git push origin main

# GitHub Actions 自动执行部署
```

#### 手动部署
```bash
# 生成并部署
hexo clean
hexo generate
hexo deploy
```

## 📦 依赖包说明

### 核心依赖
- `hexo` - Hexo 核心框架
- `hexo-server` - 本地开发服务器
- `hexo-generator-*` - 各种生成器插件

### 主题依赖
- `hexo-renderer-pug` - Pug 模板渲染器
- `hexo-renderer-stylus` - Stylus 样式渲染器

### 功能插件
- `hexo-generator-searchdb` - 搜索功能
- `hexo-generator-sitemap` - 站点地图
- `hexo-generator-feed` - RSS 订阅
- `hexo-wordcount` - 字数统计
- `hexo-abbrlink` - 短链接生成
- `hexo-deployer-git` - Git 部署

## 🗂️ 生成文件说明

### `public/` 目录（自动生成）

```
public/
├── index.html                  # 首页
├── archives/                   # 归档页面
├── categories/                 # 分类页面
├── tags/                      # 标签页面
├── about/                     # 关于页面
├── 2025/09/20/                # 按日期组织的文章
├── css/                       # 样式文件
├── js/                        # JavaScript 文件
├── img/                       # 图片资源
├── atom.xml                   # RSS 订阅
├── search.xml                 # 搜索数据
└── sitemap.xml               # 站点地图
```

## 📊 文件管理建议

### 1. 图片管理
```
source/
├── images/                    # 本地图片
│   ├── covers/               # 封面图片
│   ├── posts/                # 文章图片
│   └── avatars/              # 头像图片
└── _posts/
    └── article-name/         # 文章同名文件夹
        ├── index.md          # 文章内容
        └── images/           # 文章专用图片
```

### 2. 资源组织
```
source/
├── css/                      # 自定义样式
├── js/                       # 自定义脚本
├── fonts/                    # 字体文件
└── downloads/                # 下载资源
```

### 3. 备份策略
- 定期备份 `source/` 目录
- 版本控制管理源码
- 备份主题配置文件
- 导出数据库（如果使用）

## 🔍 常用路径

### 重要配置文件
- 主配置：`_config.yml`
- 主题配置：`_config.butterfly.yml`
- 部署配置：`.github/workflows/deploy.yml`

### 内容文件
- 文章：`source/_posts/*.md`
- 页面：`source/*/index.md`
- 草稿：`source/_drafts/*.md`

### 模板文件
- 文章模板：`scaffolds/post.md`
- 页面模板：`scaffolds/page.md`

### 主题文件
- 主题配置：`themes/butterfly/_config.yml`
- 样式文件：`themes/butterfly/source/css/`
- 脚本文件：`themes/butterfly/source/js/`

## 💡 使用技巧

### 1. 快速创建
```bash
# 创建文章（使用模板）
hexo new post "文章标题"

# 创建页面
hexo new page "页面名称"

# 创建草稿
hexo new draft "草稿标题"

# 发布草稿
hexo publish draft "草稿标题"
```

### 2. 批量操作
```bash
# 批量清理
hexo clean

# 批量生成
hexo generate

# 监视文件变化
hexo generate --watch

# 生成并部署
hexo generate --deploy
```

### 3. 调试模式
```bash
# 详细日志
hexo --debug

# 静默模式
hexo --silent

# 安全模式
hexo --safe
```

---

📝 **注意**：此结构说明基于当前项目配置，如有修改请及时更新此文档。
