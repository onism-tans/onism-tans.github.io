# ğŸš€ GitHub Pages éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»å¦‚ä½•å°† Hexo åšå®¢éƒ¨ç½²åˆ° GitHub Pagesï¼ŒåŒ…æ‹¬è‡ªåŠ¨éƒ¨ç½²å’Œæ‰‹åŠ¨éƒ¨ç½²ä¸¤ç§æ–¹å¼ã€‚

## ğŸ“‹ å‰ç½®æ¡ä»¶

- âœ… å·²å®‰è£… Git
- âœ… æ‹¥æœ‰ GitHub è´¦æˆ·
- âœ… Hexo åšå®¢é¡¹ç›®å·²æ­å»ºå®Œæˆ

## ğŸ¯ éƒ¨ç½²æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåº¦ |
|------|------|------|--------|
| GitHub Actions è‡ªåŠ¨éƒ¨ç½² | è‡ªåŠ¨åŒ–ã€æ–¹ä¾¿ã€æ”¯æŒå¤šåˆ†æ”¯ | éœ€è¦é…ç½® | â­â­â­â­â­ |
| hexo-deployer-git æ‰‹åŠ¨éƒ¨ç½² | ç®€å•ç›´æ¥ | éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ | â­â­â­ |
| GitHub Desktop | å›¾å½¢åŒ–æ“ä½œ | æ­¥éª¤è¾ƒå¤š | â­â­ |

## ğŸš€ æ–¹æ¡ˆä¸€ï¼šGitHub Actions è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

### 1. åˆ›å»º GitHub ä»“åº“

#### é€‰é¡¹ Aï¼šç”¨æˆ·/ç»„ç»‡ç½‘ç«™ï¼ˆæ¨èï¼‰
```bash
# ä»“åº“åå¿…é¡»æ˜¯ï¼šusername.github.io
# ä¾‹å¦‚ï¼šjohndoe.github.io
# è®¿é—®åœ°å€ï¼šhttps://username.github.io
```

#### é€‰é¡¹ Bï¼šé¡¹ç›®ç½‘ç«™
```bash
# ä»“åº“åå¯ä»¥æ˜¯ä»»æ„åç§°ï¼šblogã€my-blog ç­‰
# è®¿é—®åœ°å€ï¼šhttps://username.github.io/repository-name
```

### 2. åˆå§‹åŒ–æœ¬åœ° Git ä»“åº“

```bash
# åœ¨åšå®¢æ ¹ç›®å½•æ‰§è¡Œ
cd /path/to/your/blog

# åˆå§‹åŒ– Git ä»“åº“
git init

# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/username/username.github.io.git

# åˆ›å»º .gitignore æ–‡ä»¶
echo "node_modules/" > .gitignore
echo "public/" >> .gitignore
echo ".deploy_git/" >> .gitignore
echo "db.json" >> .gitignore

# æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add .

# æäº¤åˆ°æœ¬åœ°ä»“åº“
git commit -m "Initial commit: Hexo blog with Butterfly theme"

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push -u origin main
```

### 3. é…ç½® GitHub Actions

é¡¹ç›®å·²åŒ…å« `.github/workflows/deploy.yml` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main  # å½“æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout
      uses: actions/checkout@v3
      with:
        submodules: false
        
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
        
    - name: Install dependencies
      run: |
        npm install
        npm install hexo-deployer-git --save
        
    - name: Clean & Generate
      run: |
        npx hexo clean
        npx hexo generate
        
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./public
        publish_branch: gh-pages
        commit_message: ${{ github.event.head_commit.message }}
```

### 4. è®¾ç½® GitHub Pages

1. **è¿›å…¥ä»“åº“è®¾ç½®**
   - è®¿é—® `https://github.com/username/username.github.io/settings`
   - æ‰¾åˆ° "Pages" é€‰é¡¹

2. **é…ç½® Pages è®¾ç½®**
   ```
   Source: Deploy from a branch
   Branch: gh-pages
   Folder: / (root)
   ```

3. **ä¿å­˜è®¾ç½®**
   - ç‚¹å‡» "Save" ä¿å­˜è®¾ç½®
   - GitHub ä¼šæ˜¾ç¤ºç½‘ç«™è®¿é—®åœ°å€

### 5. éªŒè¯éƒ¨ç½²

1. **æ¨é€ä»£ç è§¦å‘éƒ¨ç½²**
   ```bash
   # ä¿®æ”¹æ–‡ä»¶å
   git add .
   git commit -m "Update blog content"
   git push origin main
   ```

2. **æŸ¥çœ‹ Actions çŠ¶æ€**
   - è®¿é—®ä»“åº“çš„ "Actions" æ ‡ç­¾é¡µ
   - æŸ¥çœ‹å·¥ä½œæµè¿è¡ŒçŠ¶æ€
   - ç¡®è®¤éƒ¨ç½²æˆåŠŸ

3. **è®¿é—®ç½‘ç«™**
   - ç”¨æˆ·ç½‘ç«™ï¼š`https://username.github.io`
   - é¡¹ç›®ç½‘ç«™ï¼š`https://username.github.io/repository-name`

## ğŸ”§ æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

### 1. å®‰è£…éƒ¨ç½²æ’ä»¶

```bash
npm install hexo-deployer-git --save
```

### 2. é…ç½®éƒ¨ç½²è®¾ç½®

ç¼–è¾‘ `_config.yml`ï¼š

```yaml
# Deployment
deploy:
  type: git
  repo: https://github.com/username/username.github.io.git
  branch: main  # æˆ– gh-pages
  message: "Site updated: {{ now('YYYY-MM-DD HH:mm:ss') }}"
```

### 3. æ‰§è¡Œéƒ¨ç½²

```bash
# æ¸…ç†ç¼“å­˜
hexo clean

# ç”Ÿæˆé™æ€æ–‡ä»¶
hexo generate

# éƒ¨ç½²åˆ° GitHub
hexo deploy

# æˆ–ä¸€é”®ç”Ÿæˆå¹¶éƒ¨ç½²
hexo generate --deploy
# ç®€å†™ï¼šhexo g -d
```

### 4. è®¾ç½® GitHub Pages

å¦‚æœä½¿ç”¨ `main` åˆ†æ”¯éƒ¨ç½²ï¼š
```
Source: Deploy from a branch
Branch: main
Folder: / (root)
```

å¦‚æœä½¿ç”¨ `gh-pages` åˆ†æ”¯éƒ¨ç½²ï¼š
```
Source: Deploy from a branch
Branch: gh-pages
Folder: / (root)
```

## ğŸŒ è‡ªå®šä¹‰åŸŸåé…ç½®

### 1. è´­ä¹°åŸŸå

æ¨èåŸŸåæ³¨å†Œå•†ï¼š
- [Namecheap](https://www.namecheap.com/)
- [GoDaddy](https://www.godaddy.com/)
- [é˜¿é‡Œäº‘](https://wanwang.aliyun.com/)
- [è…¾è®¯äº‘](https://dnspod.cloud.tencent.com/)

### 2. é…ç½® DNS è§£æ

#### æ–¹å¼ä¸€ï¼šCNAME è®°å½•ï¼ˆæ¨èï¼‰
```
ç±»å‹: CNAME
åç§°: www (æˆ– @)
å€¼: username.github.io
TTL: 3600
```

#### æ–¹å¼äºŒï¼šA è®°å½•
```
ç±»å‹: A
åç§°: @
å€¼: 185.199.108.153
TTL: 3600

ç±»å‹: A
åç§°: @
å€¼: 185.199.109.153
TTL: 3600

ç±»å‹: A
åç§°: @
å€¼: 185.199.110.153
TTL: 3600

ç±»å‹: A
åç§°: @
å€¼: 185.199.111.153
TTL: 3600
```

### 3. é…ç½® GitHub Pages

1. **æ·»åŠ  CNAME æ–‡ä»¶**
   ```bash
   # åœ¨ source ç›®å½•ä¸‹åˆ›å»º CNAME æ–‡ä»¶
   echo "yourdomain.com" > source/CNAME
   ```

2. **GitHub è®¾ç½®**
   - ä»“åº“è®¾ç½® â†’ Pages
   - Custom domain: `yourdomain.com`
   - å‹¾é€‰ "Enforce HTTPS"

### 4. éªŒè¯é…ç½®

```bash
# æ£€æŸ¥ DNS è§£æ
nslookup yourdomain.com

# æ£€æŸ¥ HTTPS è¯ä¹¦
curl -I https://yourdomain.com
```

## ğŸ”’ HTTPS é…ç½®

### GitHub Pages è‡ªåŠ¨ HTTPS

GitHub Pages ä¼šè‡ªåŠ¨ä¸ºè‡ªå®šä¹‰åŸŸåæä¾›å…è´¹çš„ SSL è¯ä¹¦ï¼š

1. **ç­‰å¾…è¯ä¹¦ç”Ÿæˆ**
   - é…ç½®åŸŸååç­‰å¾… 24 å°æ—¶
   - GitHub ä¼šè‡ªåŠ¨ç”³è¯· Let's Encrypt è¯ä¹¦

2. **å¯ç”¨ HTTPS**
   - ä»“åº“è®¾ç½® â†’ Pages
   - å‹¾é€‰ "Enforce HTTPS"

### æ•…éšœæ’é™¤

å¦‚æœ HTTPS æ— æ³•å¯ç”¨ï¼š

1. **æ£€æŸ¥ DNS é…ç½®**
   ```bash
   dig yourdomain.com
   ```

2. **æ¸…é™¤ DNS ç¼“å­˜**
   ```bash
   # Windows
   ipconfig /flushdns
   
   # macOS
   sudo dscacheutil -flushcache
   
   # Linux
   sudo systemctl restart systemd-resolved
   ```

3. **ç­‰å¾…ä¼ æ’­**
   - DNS æ›´æ”¹å¯èƒ½éœ€è¦ 24-48 å°æ—¶ç”Ÿæ•ˆ

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### 1. å¯ç”¨ CDN

#### Cloudflareï¼ˆå…è´¹ï¼‰

1. **æ³¨å†Œ Cloudflare è´¦æˆ·**
2. **æ·»åŠ ç½‘ç«™**
   - è¾“å…¥åŸŸå
   - é€‰æ‹©å…è´¹è®¡åˆ’
3. **æ›´æ”¹ DNS æœåŠ¡å™¨**
   - åœ¨åŸŸåæ³¨å†Œå•†å¤„ä¿®æ”¹ DNS æœåŠ¡å™¨
   - ä½¿ç”¨ Cloudflare æä¾›çš„ DNS æœåŠ¡å™¨
4. **é…ç½®è®¾ç½®**
   - SSL/TLS: Full
   - Speed: å¯ç”¨è‡ªåŠ¨å‹ç¼©
   - Caching: è®¾ç½®ç¼“å­˜è§„åˆ™

#### jsDelivrï¼ˆå…è´¹ï¼‰

```html
<!-- åœ¨ä¸»é¢˜é…ç½®ä¸­ä½¿ç”¨ jsDelivr åŠ é€Ÿé™æ€èµ„æº -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/css/index.css">
```

### 2. å›¾ç‰‡ä¼˜åŒ–

```bash
# å®‰è£…å›¾ç‰‡å‹ç¼©æ’ä»¶
npm install hexo-imagemin --save

# é…ç½® _config.yml
imagemin:
  enable: true
  interlaced: false
  multipass: false
  optimizationLevel: 2
  pngquant: false
  progressive: false
```

### 3. ä»£ç å‹ç¼©

```bash
# å®‰è£…å‹ç¼©æ’ä»¶
npm install hexo-neat --save

# é…ç½® _config.yml
neat_enable: true
neat_html:
  enable: true
  exclude:
neat_css:
  enable: true
  exclude:
    - '*.min.css'
neat_js:
  enable: true
  mangle: true
  output:
  compress:
  exclude:
    - '*.min.js'
```

## ğŸ“Š SEO ä¼˜åŒ–

### 1. ç«™ç‚¹åœ°å›¾æäº¤

```bash
# Google Search Console
https://search.google.com/search-console

# æäº¤ç«™ç‚¹åœ°å›¾
https://yourdomain.com/sitemap.xml
```

### 2. robots.txt

åˆ›å»º `source/robots.txt`ï¼š

```
User-agent: *
Allow: /

Sitemap: https://yourdomain.com/sitemap.xml
```

### 3. ç™¾åº¦æ”¶å½•

```html
<!-- åœ¨ä¸»é¢˜é…ç½®ä¸­æ·»åŠ ç™¾åº¦ç»Ÿè®¡ -->
baidu_analytics: your_baidu_analytics_id

<!-- ç™¾åº¦ç«™é•¿éªŒè¯ -->
<meta name="baidu-site-verification" content="your_verification_code">
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. éƒ¨ç½²å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š`fatal: could not read Username for 'https://github.com'`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# é…ç½® Git å‡­æ®
git config --global user.name "Your Name"
git config --global user.email "your@email.com"

# ä½¿ç”¨ SSH æ–¹å¼
git remote set-url origin git@github.com:username/username.github.io.git
```

#### 2. é¡µé¢ 404

**å¯èƒ½åŸå› **ï¼š
- GitHub Pages æœªæ­£ç¡®é…ç½®
- åˆ†æ”¯è®¾ç½®é”™è¯¯
- CNAME æ–‡ä»¶é…ç½®é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥åˆ†æ”¯
git branch -a

# æ£€æŸ¥ GitHub Pages è®¾ç½®
# ç¡®è®¤ Source åˆ†æ”¯è®¾ç½®æ­£ç¡®
```

#### 3. æ ·å¼ä¸¢å¤±

**å¯èƒ½åŸå› **ï¼š
- ç›¸å¯¹è·¯å¾„é…ç½®é”™è¯¯
- CDN èµ„æºåŠ è½½å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```yaml
# _config.yml
url: https://yourdomain.com
root: /

# å¦‚æœæ˜¯é¡¹ç›®ç½‘ç«™
url: https://username.github.io/repository-name
root: /repository-name/
```

#### 4. è‡ªåŠ¨éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. æŸ¥çœ‹ Actions æ—¥å¿—
2. æ£€æŸ¥ workflow æ–‡ä»¶è¯­æ³•
3. ç¡®è®¤æƒé™è®¾ç½®

```yaml
# åœ¨ workflow ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯
- name: Debug
  run: |
    ls -la
    pwd
    node --version
    npm --version
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹ Hexo è¯¦ç»†æ—¥å¿—
hexo --debug

# æŸ¥çœ‹ Git æ“ä½œæ—¥å¿—
git log --oneline

# æŸ¥çœ‹è¿œç¨‹ä»“åº“çŠ¶æ€
git remote -v
```

## ğŸ“š æ‰©å±•åŠŸèƒ½

### 1. å¤šç¯å¢ƒéƒ¨ç½²

```yaml
# _config.yml
deploy:
  - type: git
    repo: https://github.com/username/username.github.io.git
    branch: main
  - type: git
    repo: https://gitee.com/username/username.git
    branch: master
```

### 2. é¢„è§ˆåˆ†æ”¯

```yaml
# .github/workflows/preview.yml
name: Deploy Preview

on:
  pull_request:
    branches: [ main ]

jobs:
  preview:
    runs-on: ubuntu-latest
    steps:
    # ... æ„å»ºæ­¥éª¤
    - name: Deploy to Preview
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./public
        publish_branch: preview
        destination_dir: pr-${{ github.event.number }}
```

### 3. è‡ªåŠ¨æ›´æ–°ä¾èµ–

```yaml
# .github/workflows/update-deps.yml
name: Update Dependencies

on:
  schedule:
    - cron: '0 0 * * 0'  # æ¯å‘¨æ—¥æ‰§è¡Œ

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Update dependencies
      run: |
        npm update
        git add package*.json
        git commit -m "chore: update dependencies" || exit 0
        git push
```

## ğŸ“ è·å–å¸®åŠ©

### å®˜æ–¹æ–‡æ¡£
- [Hexo å®˜æ–¹æ–‡æ¡£](https://hexo.io/docs/)
- [GitHub Pages æ–‡æ¡£](https://docs.github.com/en/pages)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)

### ç¤¾åŒºæ”¯æŒ
- [Hexo GitHub Issues](https://github.com/hexojs/hexo/issues)
- [Butterfly ä¸»é¢˜æ–‡æ¡£](https://butterfly.js.org/)
- [Stack Overflow](https://stackoverflow.com/questions/tagged/hexo)

### è”ç³»æ–¹å¼
å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–å¸®åŠ©ï¼š
- ğŸ“§ Email: your@email.com
- ğŸ™ GitHub Issues: [åˆ›å»º Issue](https://github.com/username/blog/issues)

---

ğŸ‰ **æ­å–œï¼** ä½ çš„åšå®¢ç°åœ¨å·²ç»æˆåŠŸéƒ¨ç½²åˆ° GitHub Pagesï¼
